<!doctype html>
<html><head><meta charset="utf-8" />
  <script src="./js/moonshine.js"></script>
  <script src="./js/debug/debug.moonshine.js"></script>
  <script src="./js/debug/local.debug.moonshine.js" data-ui-url="/js/debug/ui"></script>
</head>
<body>
  <script>
    var vm, env, employee;

    employee = function(name) {
      this.name = name;
    }

    employee.prototype.say_name = function(){
      console.log(this.name);
    }

    var fred = new employee("fred");
    fred.say_name();

    // Forward print() messages to the console
    shine.stdout.write = function () {
      console.log.apply(console, arguments);
    }

    env = {
      fred: fred
    };

    vm = new shine.VM(env);
    vm.load('./lua/boot.lua.json');
  </script>
</body>
</html>
